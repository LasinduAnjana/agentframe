# FastAPI Info Agent Environment Configuration
# Copy this file to .env and fill in your actual API keys

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=Info Agent API
APP_VERSION=1.0.0
DEBUG=true
HOST=0.0.0.0
PORT=8000
WORKERS=1

# =============================================================================
# API KEYS - REQUIRED
# =============================================================================

# OpenAI API (Required for main agent model)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Alternative Model APIs (Optional)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here
GOOGLE_API_KEY=your-google-api-key-here

# =============================================================================
# OPENAI-COMPATIBLE API CONFIGURATION
# =============================================================================
# Configure for local models, alternative providers, or custom deployments

# Base URL for OpenAI-compatible API (overrides default OpenAI endpoint)
OPENAI_BASE_URL=

# Examples for different providers:
# Local Ollama: http://localhost:11434/v1
# Groq: https://api.groq.com/openai/v1
# Together AI: https://api.together.xyz/v1
# Anyscale: https://api.endpoints.anyscale.com/v1
# Local vLLM: http://localhost:8000/v1
# LocalAI: http://localhost:8080/v1

# Organization ID (for OpenAI or compatible services)
OPENAI_ORGANIZATION=

# Custom headers for authentication (JSON format)
# Example: {"X-Custom-Auth": "bearer token", "X-API-Version": "v1"}
OPENAI_CUSTOM_HEADERS=

# Model name for OpenAI-compatible APIs
# Examples:
# - Standard OpenAI: gpt-4, gpt-3.5-turbo
# - Ollama: llama2:7b, codellama:13b, mistral:7b
# - Groq: mixtral-8x7b-32768, llama2-70b-4096
# - Together AI: mistralai/Mixtral-8x7B-Instruct-v0.1
# - Anyscale: meta-llama/Llama-2-7b-chat-hf

# Web Search APIs (Choose at least one)
SERPER_API_KEY=your-serper-api-key-here
SERPAPI_API_KEY=your-serpapi-key-here
BRAVE_API_KEY=your-brave-search-api-key-here

# Weather APIs (Choose at least one)
OPENWEATHERMAP_API_KEY=your-openweathermap-api-key-here
WEATHERAPI_KEY=your-weatherapi-key-here

# =============================================================================
# AGENT CONFIGURATION
# =============================================================================
AGENT_MODEL=gpt-4
AGENT_TEMPERATURE=0.7
AGENT_MAX_TOKENS=1000
AGENT_TIMEOUT=300
MAX_REPLANNING_ITERATIONS=3
CONFIDENCE_THRESHOLD=0.7

# =============================================================================
# TOOL CONFIGURATION
# =============================================================================
WEB_SEARCH_PROVIDER=serper
WEATHER_PROVIDER=openweathermap
MAX_SEARCH_RESULTS=5
SEARCH_CACHE_TTL=3600
ENABLE_TOOL_CACHING=true

# =============================================================================
# SESSION MANAGEMENT
# =============================================================================
SESSION_TIMEOUT=3600
MAX_CHAT_HISTORY=100
CHAT_HISTORY_CLEANUP_INTERVAL=86400
AUTO_CLEANUP_SESSIONS=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# SQLite (default for development)
DATABASE_URL=sqlite:///./chat_history.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql://user:password@localhost:5432/info_agent_db

# MySQL (alternative)
# DATABASE_URL=mysql+pymysql://user:password@localhost:3306/info_agent_db

# =============================================================================
# REDIS CONFIGURATION (Optional - for caching and sessions)
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
ENABLE_REDIS_CACHE=false
REDIS_SESSION_TTL=3600

# =============================================================================
# API SECURITY
# =============================================================================
# API Key Authentication (Optional)
ENABLE_API_KEY_AUTH=false
API_KEY_HEADER=X-API-Key
API_KEYS=api-key-1,api-key-2,api-key-3

# CORS Configuration
CORS_ORIGINS=*
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# =============================================================================
# RATE LIMITING
# =============================================================================
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600
RATE_LIMIT_STRATEGY=sliding_window

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_ACCESS_LOG=true
ENABLE_FILE_LOGGING=false
LOG_FILE=info_agent_api.log
LOG_ROTATION=midnight
LOG_RETENTION=7

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================
ENABLE_METRICS=false
METRICS_ENDPOINT=/metrics
HEALTH_CHECK_TIMEOUT=30
ENABLE_DETAILED_HEALTH_CHECK=true

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Request timeouts
REQUEST_TIMEOUT=30
AGENT_QUERY_TIMEOUT=120
TOOL_EXECUTION_TIMEOUT=60

# Connection pooling
HTTP_POOL_SIZE=100
HTTP_POOL_MAXSIZE=100

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
DEVELOPMENT_MODE=true
RELOAD_ON_CHANGE=true
ENABLE_DEBUG_ENDPOINTS=true
MOCK_EXTERNAL_APIS=false

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# Security headers
ENABLE_SECURITY_HEADERS=true
ENABLE_HTTPS_REDIRECT=false

# Server configuration
KEEP_ALIVE_TIMEOUT=5
GRACEFUL_SHUTDOWN_TIMEOUT=30

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_STREAMING_RESPONSES=true
ENABLE_CHAT_EXPORT=true
ENABLE_TOOL_DIRECT_ACCESS=true
ENABLE_BULK_OPERATIONS=false

# =============================================================================
# EXTERNAL SERVICE TIMEOUTS
# =============================================================================
OPENAI_TIMEOUT=60
SERPER_TIMEOUT=10
WEATHER_API_TIMEOUT=10
SEARCH_API_TIMEOUT=15